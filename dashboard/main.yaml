---
button_card_templates: !include_dir_merge_named "../../custom_components/ui_lovelace_minimalist/__ui_minimalist__/ulm_templates/"
decluttering_templates: !include /config/dashboard/templates/roomcard_template.yaml


title: "UI Lovelace Minimalist"
theme: "minimalist-desktop"
background: "var(--background-image)"
views:
  - title: "Home"
    path: 0
    icon: "mdi:flower"
    cards:
      - type: custom:layout-card
        layout_type: custom:grid-layout
        layout:
          grid-template-columns: repeat(0, 0fr)
          grid-gap: 70px
          mediaquery:
            '(max-width: 600px)':
              grid-template-columns: repeat(0, 0fr)
        cards:
          - type: custom:layout-card
            layout_type: masonry
            layout: {}
            cards:
              - type: custom:mushroom-chips-card
                chips:
                  - type: menu
                  - type: conditional
                    conditions:
                      - entity: group.all_lights
                        state: 'on'
                    chip:
                      type: template
                      icon: mdi:lightbulb
                      content: >-
                        {{ expand(states.group.all_lights) | selectattr( 'state', 'eq', 'on') | list | count }}
                      tap_action:
                        action: more-info
                      entity: group.all_lights
                      icon_color: grey
                card_mod:
                  style: |
                    :host {
                      --ha-card-background: var(--card-background-color);
                    }
              - square: false
                columns: 2
                type: grid
                cards:
                  - type: horizontal-stack
                    cards:
                      - type: custom:mushroom-chips-card
                        chips:
                          - type: conditional
                            conditions:
                              - entity: person.wouter_damman
                                state: home
                            chip:
                              type: entity
                              entity: person.wouter_damman
                              content_info: nam
                              use_entity_picture: true
                              card_mod:
                                style: |
                                  ha-card {
                                    --chip-background: rgba(var(--rgb-state-person-home), 0.4);
                                    margin-top: 5px;
                                    margin-bottom: 10px;
                                  } 
                          - type: conditional
                            conditions:
                              - entity: person.ilse_beuker
                                state: home
                            chip:
                              type: entity
                              entity: person.ilse_beuker
                              content_info: none
                              use_entity_picture: true
                              card_mod:
                                style: |
                                  ha-card {
                                    --chip-background: rgba(var(--rgb-state-person-home), 0.4);
                                    margin-top: 5px;
                                    margin-bottom: 10px;
                                  } 
                        alignment: start
                        card_mod:
                          style: |
                            ha-card { 
                              margin-left: 8px;
                            }
                  - type: horizontal-stack
                    cards:
                      - type: custom:mushroom-chips-card
                        chips:
                          - type: conditional
                            conditions:
                              - entity: person.wouter_damman
                                state_not: home
                            chip:
                              type: entity
                              entity: person.wouter_damman
                              content_info: none
                              use_entity_picture: true
                              card_mod:
                                style: |
                                  ha-card {
                                    {% if is_state('person.wouter_damman', 'not_home') %}
                                      --chip-background: rgba(var(--rgb-state-person-not-home), 0.4);
                                    {% elif is_state('person.wouter_damman', 'unknown') %}
                                      --chip-background: rgba(var(--rgb-state-person-unknown), 0.4);
                                    {% else %}
                                      --chip-background: rgba(var(--rgb-state-person-zone), 0.4);
                                    {% endif %} 
                                    margin-top: 5px;
                                    margin-bottom: 10px;
                                  } 
                          - type: conditional
                            conditions:
                              - entity: person.ilse_beuker
                                state_not: home
                            chip:
                              type: entity
                              entity: person.ilse_beuker
                              content_info: none
                              use_entity_picture: true
                              card_mod:
                                style: |
                                  ha-card {
                                    {% if is_state('person.ilse_beuker', 'not_home') %}
                                      --chip-background: rgba(var(--rgb-state-person-not-home), 0.4);
                                    {% elif is_state('person.ilse_beuker', 'unknown') %}
                                      --chip-background: rgba(var(--rgb-state-person-unknown), 0.4);
                                    {% else %}
                                      --chip-background: rgba(var(--rgb-state-person-zone), 0.4);
                                    {% endif %} 
                                    margin-top: 5px;
                                    margin-bottom: 10px;
                                  } 
                        alignment: end
                        card_mod:
                          style: |
                            ha-card { 
                              margin-right: 8px;
                            }
              - type: custom:mushroom-title-card
                title: |-
                  {% set time = now().hour %}
                  {% if time >= 18 %}
                    Goedenavond, {{user}}!
                  {% elif time >= 12 %}
                    Goedemiddag, {{user}}!
                  {% elif time >= 5 %}
                    Goedemorgen, {{user}}!
                  {% else %}
                    Hallo, {{user}}!
                  {% endif %}
                subtitle: ''
              - type: custom:simple-weather-card
                entity: weather.forecast_home
                name: in Valthermond
                card_mod:
                  style: |
                    ha-card {
                      box-shadow: none;
                      background: none;
                    }
              - type: horizontal-stack
                cards:
                  - type: custom:mushroom-template-card
                    primary: ''
                    secondary: House
                    icon: mdi:home
                    layout: vertical
                    icon_color: blue
                    tap_action:
                      action: navigate
                      navigation_path: house
                    card_mod:
                      style: |
                        ha-card { 
                          background: var(--card-background-color);
                          width: 66px;
                          border-radius: 30px;
                          margin-left: auto;
                          margin-right: auto;
                          margin-bottom: 2px;
                        }
                  - type: custom:mushroom-template-card
                    primary: ''
                    secondary: Lights
                    icon: mdi:lightbulb
                    icon_color: amber
                    layout: vertical
                    tap_action:
                      action: navigate
                      navigation_path: lights
                    card_mod:
                      style: |
                        ha-card { 
                          background: var(--card-background-color);
                          width: 66px;
                          border-radius: 30px;
                          margin-left: auto;
                          margin-right: auto;
                          margin-bottom: 2px;
                        }
                  - type: custom:mushroom-template-card
                    primary: ''
                    secondary: Secure
                    icon: mdi:shield
                    icon_color: green
                    layout: vertical
                    tap_action:
                      action: navigate
                      navigation_path: security
                    card_mod:
                      style: |
                        ha-card { 
                          background: var(--card-background-color);
                          width: 66px;
                          border-radius: 30px;
                          margin-left: auto;
                          margin-right: auto;
                          margin-bottom: 2px;
                        }
                  - type: custom:mushroom-template-card
                    primary: ''
                    secondary: Media
                    icon: mdi:speaker
                    layout: vertical
                    icon_color: red
                    tap_action:
                      action: navigate
                      navigation_path: media
                    card_mod:
                      style: |
                        ha-card { 
                          background: var(--card-background-color);
                          width: 66px;
                          border-radius: 30px;
                          margin-left: auto;
                          margin-right: auto;
                          margin-bottom: 2px;
                        }
                  - type: custom:mushroom-template-card
                    primary: ''
                    secondary: Net
                    icon: mdi:lan
                    layout: vertical
                    icon_color: cyan
                    tap_action:
                      action: navigate
                      navigation_path: media
                    card_mod:
                      style: |
                        ha-card { 
                          background: var(--card-background-color);
                          width: 66px;
                          border-radius: 30px;
                          margin-left: auto;
                          margin-right: auto;
                          margin-bottom: 2px;
                        }
        card_mod:
          style: |
            ha-card {
              padding: 2px;
              background: rgba(var(--rgb-primary-text-color), 0.01);
            }

      - type: custom:layout-card
        layout_type: custom:grid-layout
        layout:
          grid-template-columns: repeat(3, 0fr)
          grid-gap: 1px
          mediaquery:
            '(max-width: 600px)':
              grid-template-columns: repeat(2, 0fr)
        cards:
          - type: custom:decluttering-card
            template: room_card
            variables:
              - room_name: Woonkamer
              - room_icon: mdi:sofa
              - area_id: woonkamer
              - excluded_entities:
                  - automation.ikea_remote_control_living_room_lights
                  - remote.sony_xr_55a80k
              - temp_sensor: sensor.kamertemperatuur
              - humid_sensor: sensor.woonkamer_klimaat_humidity
              - nav_path: /woonkamer-dashboard
              - light_entities:
                  - entity: light.woonkamer_kast_bank
                    name: "Woonkamer Kast Bank"
                  - entity: light.woonkamer_kast_tv
                    name: "Woonkamer Kast TV"
              - climate_entity: climate.e3_vitodens_100_vct_0122_heating
              - motion_sensor: binary_sensor.woonkamer_motion
              - media_player: media_player.woonkamer_tv
              - chips: |
                  - type: conditional
                    conditions:
                      - entity: binary_sensor.woonkamer_motion
                        state: "on"
                    chip:
                      type: entity
                      entity: binary_sensor.woonkamer_motion
                      icon: mdi:motion-sensor
                      icon_color: blue
                      content_info: none
                  # - type: conditional
                  #   conditions:
                  #     - entity: media_player.woonkamer_tv
                  #       state: "on"
                  #   chip:
                  #     type: entity
                  #     entity: media_player.woonkamer_tv
                  #     icon: mdi:television
                  #     icon_color: purple
                  #     content_info: none
            card_mod:
              style: |
                ha-card {
                  border-radius: 12px;
                  padding: 8px;
                }
