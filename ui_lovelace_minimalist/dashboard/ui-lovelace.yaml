---
button_card_templates: !include_dir_merge_named "../../custom_components/ui_lovelace_minimalist/__ui_minimalist__/ulm_templates/"

title: "UI Lovelace Minimalist"
theme: "minimalist-desktop"
background: "var(--background-image)"
# views: !include_dir_merge_list "views/"
views:
  - title: "Example View"
    path: 0
    icon: "mdi:flower"
    cards:
      - type: custom:stack-in-card
        cards:
          - type: custom:layout-card
            layout_type: masonry
            layout: {}
            cards:
              - type: custom:mushroom-chips-card
                chips:
                  - type: menu
                  - type: conditional
                    conditions:
                      - entity: group.all_lights
                        state: 'on'
                    chip:
                      type: template
                      icon: mdi:lightbulb
                      content: >-
                        {{ expand(states.group.all_lights) | selectattr( 'state', 'eq', 'on') | list | count }}
                      tap_action:
                        action: more-info
                      entity: group.all_lights
                      icon_color: grey
                card_mod:
                  style: |
                    :host {
                      --ha-card-background: var(--card-background-color);
                    }
              - square: false
                columns: 2
                type: grid
                cards:
                  - type: horizontal-stack
                    cards:
                      - type: custom:mushroom-chips-card
                        chips:
                          - type: conditional
                            conditions:
                              - entity: person.wouter_damman
                                state: home
                            chip:
                              type: entity
                              entity: person.wouter_damman
                              content_info: nam
                              use_entity_picture: true
                              card_mod:
                                style: |
                                  ha-card {
                                    --chip-background: rgba(var(--rgb-state-person-home), 0.4);
                                    margin-top: 5px;
                                    margin-bottom: 10px;
                                  } 
                          - type: conditional
                            conditions:
                              - entity: person.ilse_beuker
                                state: home
                            chip:
                              type: entity
                              entity: person.ilse_beuker
                              content_info: none
                              use_entity_picture: true
                              card_mod:
                                style: |
                                  ha-card {
                                    --chip-background: rgba(var(--rgb-state-person-home), 0.4);
                                    margin-top: 5px;
                                    margin-bottom: 10px;
                                  } 
                        alignment: start
                        card_mod:
                          style: |
                            ha-card { 
                              margin-left: 8px;
                            }
                  - type: horizontal-stack
                    cards:
                      - type: custom:mushroom-chips-card
                        chips:
                          - type: conditional
                            conditions:
                              - entity: person.wouter_damman
                                state_not: home
                            chip:
                              type: entity
                              entity: person.wouter_damman
                              content_info: none
                              use_entity_picture: true
                              card_mod:
                                style: |
                                  ha-card {
                                    {% if is_state('person.wouter_damman', 'not_home') %}
                                      --chip-background: rgba(var(--rgb-state-person-not-home), 0.4);
                                    {% elif is_state('person.wouter_damman', 'unknown') %}
                                      --chip-background: rgba(var(--rgb-state-person-unknown), 0.4);
                                    {% else %}
                                      --chip-background: rgba(var(--rgb-state-person-zone), 0.4);
                                    {% endif %} 
                                    margin-top: 5px;
                                    margin-bottom: 10px;
                                  } 
                          - type: conditional
                            conditions:
                              - entity: person.ilse_beuker
                                state_not: home
                            chip:
                              type: entity
                              entity: person.ilse_beuker
                              content_info: none
                              use_entity_picture: true
                              card_mod:
                                style: |
                                  ha-card {
                                    {% if is_state('person.ilse_beuker', 'not_home') %}
                                      --chip-background: rgba(var(--rgb-state-person-not-home), 0.4);
                                    {% elif is_state('person.ilse_beuker', 'unknown') %}
                                      --chip-background: rgba(var(--rgb-state-person-unknown), 0.4);
                                    {% else %}
                                      --chip-background: rgba(var(--rgb-state-person-zone), 0.4);
                                    {% endif %} 
                                    margin-top: 5px;
                                    margin-bottom: 10px;
                                  } 
                        alignment: end
                        card_mod:
                          style: |
                            ha-card { 
                              margin-right: 8px;
                            }
              - type: custom:mushroom-title-card
                title: |-
                  {% set time = now().hour %}
                  {% if time >= 18 %}
                    Goedenavond, {{user}}!
                  {% elif time >= 12 %}
                    Goedemiddag, {{user}}!
                  {% elif time >= 5 %}
                    Goedemorgen, {{user}}!
                  {% else %}
                    Hallo, {{user}}!
                  {% endif %}
                subtitle: ''
              - type: custom:simple-weather-card
                entity: weather.forecast_home
                name: in Valthermond
                card_mod:
                  style: |
                    ha-card {
                      box-shadow: none;
                      background: none;
                    }
              - type: horizontal-stack
                cards:
                  - type: custom:mushroom-template-card
                    primary: ''
                    secondary: House
                    icon: mdi:home
                    layout: vertical
                    icon_color: blue
                    tap_action:
                      action: navigate
                      navigation_path: house
                    card_mod:
                      style: |
                        ha-card { 
                          background: var(--card-background-color);
                          width: 66px;
                          border-radius: 30px;
                          margin-left: auto;
                          margin-right: auto;
                          margin-bottom: 2px;
                        }
                  - type: custom:mushroom-template-card
                    primary: ''
                    secondary: Lights
                    icon: mdi:lightbulb
                    icon_color: amber
                    layout: vertical
                    tap_action:
                      action: navigate
                      navigation_path: lights
                    card_mod:
                      style: |
                        ha-card { 
                          background: var(--card-background-color);
                          width: 66px;
                          border-radius: 30px;
                          margin-left: auto;
                          margin-right: auto;
                          margin-bottom: 2px;
                        }
                  - type: custom:mushroom-template-card
                    primary: ''
                    secondary: Secure
                    icon: mdi:shield
                    icon_color: green
                    layout: vertical
                    tap_action:
                      action: navigate
                      navigation_path: security
                    card_mod:
                      style: |
                        ha-card { 
                          background: var(--card-background-color);
                          width: 66px;
                          border-radius: 30px;
                          margin-left: auto;
                          margin-right: auto;
                          margin-bottom: 2px;
                        }
                  - type: custom:mushroom-template-card
                    primary: ''
                    secondary: Media
                    icon: mdi:speaker
                    layout: vertical
                    icon_color: red
                    tap_action:
                      action: navigate
                      navigation_path: media
                    card_mod:
                      style: |
                        ha-card { 
                          background: var(--card-background-color);
                          width: 66px;
                          border-radius: 30px;
                          margin-left: auto;
                          margin-right: auto;
                          margin-bottom: 2px;
                        }
                  - type: custom:mushroom-template-card
                    primary: ''
                    secondary: Net
                    icon: mdi:lan
                    layout: vertical
                    icon_color: cyan
                    tap_action:
                      action: navigate
                      navigation_path: media
                    card_mod:
                      style: |
                        ha-card { 
                          background: var(--card-background-color);
                          width: 66px;
                          border-radius: 30px;
                          margin-left: auto;
                          margin-right: auto;
                          margin-bottom: 2px;
                        }
        card_mod:
          style: |
            ha-card {
              padding: 2px;
              background: rgba(var(--rgb-primary-text-color), 0.01);
            }
      - type: custom:vertical-stack-in-card
        cards:
          - type: custom:mushroom-template-card
            entity: group.master_bedroom  # kan je laten staan of aanpassen als je wilt
            icon: mdi:sofa
            icon_color: |
              {% set excluded = [
                'automation.ikea_remote_control_living_room_lights',
                'remote.sony_xr_55a80k'
              ] %}
              {% set entities = area_entities('woonkamer') %}
              {% set on_entities = entities
                | reject('in', excluded)
                | select('is_state', 'on')
                | list %}
              {% if on_entities | length > 0 %}
                #03A9F4
              {% else %}
                grey
              {% endif %}
            primary: Woonkamer
            secondary: >-
              {{ states('sensor.woonkamer_klimaat_temperature') | round(0)
              }}°C | {{ states('sensor.woonkamer_klimaat_humidity') |
              round(0) }}%
            layout: horizontal
            tap_action:
              action: navigate
              navigation_path: /mobile-dashboard/woonkamer
            double_tap_action:
              action: navigate
              navigation_path: /mobile-dashboard/woonkamer
            hold_action:
              action: toggle
            badge_icon: >
              {% if is_state_attr('climate.e3_vitodens_100_vct_0122_heating', 'hvac_action', 'heating') %}
                mdi:radiator
              {% elif is_state_attr('climate.e3_vitodens_100_vct_0122_heating', 'active_vicare_mode', 'standby') %}
                mdi:power-standby
              {% else %}
                mdi:thermometer
              {% endif %}
            badge_color: >
              {% if is_state_attr('climate.e3_vitodens_100_vct_0122_heating', 'hvac_action', 'heating') %}
                red
              {% elif is_state_attr('climate.e3_vitodens_100_vct_0122_heating', 'active_vicare_mode', 'standby') %}
                grey
              {% else %}
                #6c6c75
              {% endif %}
            card_mod:
              style:
                mushroom-state-info$: |
                  .primary {
                    font-size: 16px !important;
                    position: relative;
                    top: -50px;
                    left: -155px;
                    overflow: visible !important;
                    white-space: normal !important;
                  }
                  .secondary {
                    position: relative;
                    overflow: visible !important;
                    top: -52px;
                    left: -155px;
                  }
                mushroom-shape-icon$: |
                  .shape {
                    position: relative;
                    left: -43px;
                    top: 55px;
                  }
                .: |
                  :host {
                    --mush-icon-size: 146px;
                    --secondary-text-color: 
                      {% if is_state_attr('climate.e3_vitodens_100_vct_0122_heating', 'hvac_action', 'heating') %}
                        red
                      {% elif is_state_attr('climate.e3_vitodens_100_vct_0122_heating', 'active_vicare_mode', 'standby') %}
                        grey
                      {% else %}
                        #6c6c75
                      {% endif %}
                  }
                style: |
                  mushroom-badge-icon {
                    left: 69px;
                    top: 25px;
                  }
          - type: custom:mushroom-template-card
            primary: none
            icon_color: disabled
            icon: mdi:lightbulb
            secondary: none
            entity: light.woonkamer_kast_bank
            tap_action:
              action: fire-dom-event
              browser_mod:
                service: browser_mod.popup
                data:
                  title: Lampen Woonkamer
                  content:
                    type: vertical-stack
                    cards:
                      - type: custom:mushroom-light-card
                        entity: light.woonkamer_kast_bank
                        name: Woonkamer Kast Bank
                        use_light_color: true
                        show_brightness_control: true
                        show_color_temp_control: false
                        show_color_control: false
                        collapsible_controls: true
                        card_mod:
                          style: |
                            ha-card {
                              --ha-card-border-width: 0;
                            }
                      - type: custom:mushroom-light-card
                        entity: light.woonkamer_kast_tv
                        name: Woonkamer Kast TV
                        use_light_color: true
                        show_brightness_control: true
                        show_color_temp_control: false
                        show_color_control: false
                        collapsible_controls: true
                        card_mod:
                          style: |
                            ha-card {
                              --ha-card-border-width: 0;
                            }
                  card_mod:
                    style: |
                      ha-card {
                        --ha-card-border-width: 0;
                      }
            hold_action:
              action: toggle
            double_tap_action:
              action: more-info
            card_mod:
              style:
                mushroom-shape-icon$: |
                .: |
                  ha-card {
                    width: 66px;
                    margin-left: 68%;
                    top: -178px;
                    background: none;
                  }
                  :host {
                    --mush-icon-size: 38px;
                  }
          - type: custom:mushroom-chips-card
            chips:
              - type: conditional
                conditions:
                  - entity: binary_sensor.keuken_bewegingssensor_occupancy
                    state: 'on'
                chip:
                  type: entity
                  entity: binary_sensor.keuken_bewegingssensor_occupancy
                  icon: mdi:motion-sensor
                  icon_color: blue
                  content_info: none
              - type: conditional
                conditions:
                  - entity: media_player.sony_xr_55a80k
                    state: 'on'
                chip:
                  type: entity
                  entity: media_player.sony_xr_55a80k
                  icon: mdi:television
                  icon_color: purple
                  content_info: none
            card_mod:
              style:
                .: |
                  ha-card {
                    width: 66px;
                    margin-left: 76%;
                    top: -186px;
                    background: none;
                    --chip-border-width: 0;
                  }
                  :host {
                    --mush-icon-size: 20px;
                    --mush-chip-spacing: -2.9px
                  }
          # - type: custom:mushroom-chips-card
          #   chips:                  
          #     - type: conditional
          #       conditions:
          #         - entity: media_player.sony_xr_55a80k
          #           state: 'on'
          #       chip:
          #         type: entity
          #         entity: media_player.sony_xr_55a80k
          #         icon: mdi:television
          #         icon_color: purple
          #         content_info: none
          #   card_mod:
          #     style:
          #       .: |
          #         ha-card {
          #           width: 66px;
          #           margin-left: 76%;
          #           top: -186px;
          #           background: none;
          #           --chip-border-width: 0;
          #         }
          #         :host {
          #           --mush-icon-size: 20px;
          #           --mush-chip-spacing: -2.9px
          #         }
        card_mod:
          style: |
            ha-card {
              height: 178px !important;
              width: 178px !important;
            }      

